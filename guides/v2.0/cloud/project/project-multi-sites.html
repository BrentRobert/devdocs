<!DOCTYPE html>
<html lang="" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Set up multiple websites or stores | Archived Magento 2 Developer Documentation</title>
	<meta name="description" content="Copy of the Magento 2 Developer Documentation.">

	<link rel="stylesheet" href="/devdocs/assets/css/app.css" />
	<link rel="stylesheet" href="/devdocs/assets/css/print.css" media="print"/>

	<link rel="stylesheet" href="/devdocs/common/css/devdocs.css" />

	<script>
  var baseUrl = "/devdocs";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c"
  };
</script>




	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">

	<header class="site-header">

		<nav class="site-nav">

  <div class="menu-btn">
    <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main"></button>
  </div>

  <div class="nav-container">

    <a class="logo" href="/devdocs/guides/v2.0/">
      <img src="/devdocs/assets/i/m-logo.svg" alt=""><img src="/devdocs/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">DevDocs (archived)</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      
<div class="version-switcher dropdown" data-version="2.0">
	<button id="version-switcher-button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Magento 2.0
    </button>

	<ul class="dropdown-menu dropdown-menu-left" aria-labelledby="version-switcher-button">
		
		<li><a class="dropdown-item" data-proofer-ignore href="/devdocs/guides/m1x/cloud/project/project-multi-sites.html">Magento 1.x</a></li>
		
		<li><a class="dropdown-item" data-proofer-ignore href="/devdocs/guides/v2.0/cloud/project/project-multi-sites.html">Magento 2.0</a></li>
		
		<li><a class="dropdown-item" data-proofer-ignore href="/devdocs/guides/v2.1/cloud/project/project-multi-sites.html">Magento 2.1</a></li>
		
		<li><a class="dropdown-item" data-proofer-ignore href="/devdocs/guides/v2.2/cloud/project/project-multi-sites.html">Magento 2.2</a></li>
		
		<li><a class="dropdown-item" data-proofer-ignore href="/devdocs/guides/v2.3/cloud/project/project-multi-sites.html">Magento 2.3</a></li>
		
  </ul>
</div>


      <!-- Main Navigation -->


<ul class="nav-main" role="menubar">




  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Cloud</span>

    
      <div class="nav-popup">

      

      
        <ul>
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/bk-cloud.html">Cloud Guide</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/architecture/cloud-architecture.html">Cloud Architecture</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/setup/first-time-setup.html">Local Development</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/docker/docker-quick-reference.html">Docker quick reference</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/env/environments.html">Configure Environments</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-upgrade-parent.html">Upgrades and Patches</a>
  
  
</li>



          
        
          
          
            





          
        
      </ul>
      

      </div>
    

  </li>
  




  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Setup</span>

    
      <div class="nav-popup">

      

      
        <ul>
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/install-gde/bk-install-guide.html">Installation Guide</a>
  
  
</li>



          
        
          
          
            





          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/comp-mgr/bk-compman-upgrade-guide.html">Component Manager and System Upgrade Guide</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/config-guide/bk-config-guide.html">Configuration Guide</a>
  
  
</li>



          
        
          
          
            





          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/migration/bk-migration-guide.html">Migration Guide</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/bk-cloud.html">Magento Commerce (Cloud) Guide</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/release-notes/bk-release-notes.html">Release Information</a>
  
  
</li>



          
        
      </ul>
      

      </div>
    

  </li>
  




  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Development</span>

    
      <div class="nav-popup">

      

      
        
        
          
          
            <div class="nav-section">
              <div class="nav-section-title">Backend</div>
              <ul>
              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/architecture/bk-architecture.html">Architecture</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/mrg/intro.html">Module Reference Guide</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/coding-standards/bk-coding-standards.html">Coding Standards</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/contributor-guide/contributing.html">Contributor Guide</a>
  
  
</li>



              
              </ul>
            </div>
          
        
          
          
            <div class="nav-section">
              <div class="nav-section-title">Frontend</div>
              <ul>
              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/ui-components/ui-component.html">UI Components</a>
  
  
</li>



              
                





              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/pattern-library/bk-pattern.html">Admin Design Pattern Library</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/design-styleguide/bk-styleguide.html">Admin Style Guide</a>
  
  
</li>



              
                







              
              </ul>
            </div>
          
        
          
          
            <div class="nav-section">
              <div class="nav-section-title">API</div>
              <ul>
              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/rest/bk-rest.html">REST API Reference</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/soap/bk-soap.html">SOAP API Reference</a>
  
  
</li>



              
                







              
                





              
                





              
              </ul>
            </div>
          
        
      
      

      </div>
    

  </li>
  




  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Testing</span>

    
      <div class="nav-popup">

      

      
        <ul>
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/test/testing.html">Magento Testing Guide</a>
  
  
</li>



          
        
          
          
            





          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/mtf/mtf_introduction.html">Functional Testing</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/test/integration/integration_test_execution.html">Integration Testing</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/test/js/jasmine.html">JavaScript Unit Testing</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/test/unit/unit_test_execution.html">PHP Unit Testing</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/get-started/web-api-functional-testing.html">Web API Functional Testing</a>
  
  
</li>



          
        
      </ul>
      

      </div>
    

  </li>
  




  
  <li class="nav-main-separator"></li>
  




  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Functional Areas</span>

    
      <div class="nav-popup">

      

      
        <ul>
        
          
          
            





          
        
          
          
            





          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/howdoi/checkout/checkout_overview.html">Checkout</a>
  
  
</li>



          
        
          
          
            





          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="http://omsdocs.magento.com/en/">Order Management</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/payments-integrations/bk-payments-integrations.html">Payment Integrations</a>
  
  
</li>



          
        
          
          
            





          
        
      </ul>
      

      </div>
    

  </li>
  




  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Tutorials</span>

    
      <div class="nav-popup">

      

      
        <ul>
        
          
          
            





          
        
          
          
            





          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/howdoi/checkout/checkout_overview.html">Customize Checkout</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/community/resources/support.html">Magento Support</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/videos/">Video Tutorials</a>
  
  
</li>



          
        
      </ul>
      

      </div>
    

  </li>
  



</ul><!-- /.nav-main -->

    </div>

    <div class="search-btn">
      <button class="search-trigger search-icon" aria-label="Search"></button>
    </div>

    <form class="quick-search" action="/devdocs/guides/v2.0/search.html" method="get" novalidate="novalidate">
      <input type="search" name="q" placeholder="Search" />
      <button class="quick-search-close" aria-label="Close Search">&times;</button>
    </form>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		
<div class="message-banner">
  <a href="/devdocs/guides/v2.0/release-notes/ReleaseNotes2.0.18CE.html" target="_blank">Magento 2.0.18</a> is the final 2.0.x release. After March 2018, Magento 2.0.x will no longer receive security patches, quality fixes, or documentation updates.</br> To maintain your site's performance, security, and PCI compliance, upgrade to the latest version of Magento.
</div>



		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<a href="#" data-proofer-ignore class="toc-toggler">Table of Contents</a>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">Magento Commerce Cloud</h4>
		<div class="collapsible-navigation">
		    <ul>
		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/bk-cloud.html">Overview</a>
  
  
  <ul>
    
      





    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/architecture/cloud-architecture.html">Architecture</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/basic-information/starter-architecture.html">Starter architecture</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/basic-information/starter-develop-deploy-workflow.html">Starter develop and deploy workflow</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/architecture/pro-architecture.html">Pro architecture</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/architecture/pro-develop-deploy-workflow.html">Pro develop and deploy workflow</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/architecture/pro-architecture-legacy.html">Pro architecture (legacy)</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/trouble/pro-env-management.html">Add Staging and Production to Pro projects UI</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/requirements/cloud-requirements.html">Technologies and requirements</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/reference/cloud-composer.html">Composer</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/reference/cli-ref-topic.html">Magento Cloud CLI</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/reference/git-integration.html">Git</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/bitbucket-integration.html">Bitbucket integration</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-integrate-github.html">GitHub integration</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/env/environments-ssh.html">SSH and sFTP</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/new-relic.html">New Relic APM</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-integrate-blackfire.html">Blackfire.io</a>
  
  
</li>



    
      





    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/setup/first-time-setup.html">Local development setup</a>
  
  
  <ul>
    
      





    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/before/before-workspace.html">Prepare for manual setup</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/before/before-workspace-magento-prereqs.html">Install Magento prerequisites</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/before/before-workspace-ssh.html">Enable SSH keys</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/before/before-workspace-file-sys-owner.html">Set up the Magento file system owner</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/before/before-setup-env-2_clone.html">Clone and branch the project</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/before/before-setup-env-install.html">Install Magento</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/setup/first-time-deploy.html">First time deployment</a>
  
  
</li>



    
  </ul>
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/howtos/sample-data.html">Optional - Install sample data</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/howtos/debug.html">Optional - Configure Xdebug</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/setup/first-time-setup-import-first-steps.html">Import existing code into a project</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/setup/first-time-setup-import-prepare.html">Prepare your existing Magento Commerce system</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/setup/first-time-setup-import-import.html">Import Magento Commerce code</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/configure/configuration-overview.html">Configure your store</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/configure/configure-best-practices.html">Best practices for store configuration</a>
  
  
</li>



    
      





    
      







    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/configure/setup-cron-jobs.html">Set up cron jobs</a>
  
  
</li>



    
      





  
  
  

  
  
<li class="active " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-multi-sites.html">Set up multiple Cloud websites or stores</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/howtos/install-components.html">Install, manage, and upgrade modules</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/howtos/custom-theme.html">Install a theme</a>
  
  
</li>



    
      







    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/cdn/cloud-fastly.html">Configure Fastly services</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/cdn/configure-fastly.html">Set up Fastly</a>
  
  
</li>



    
      





    
      





    
      





    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/cdn/trouble-fastly.html">Fastly troubleshooting</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/env/environments.html">Configure environments</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-conf-files_magento-app.html">Application</a>
  
  
</li>



    
      





    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/env/variables-intro.html">Environment variables</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/env/environment-vars_magento.html">ADMIN variables</a>
  
  
</li>



    
      





    
      





    
      







    
      





    
      





    
      





    
  </ul>
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-conf-files_routes.html">Routes</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-routes-more-cache.html">Caching</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-routes-more-redir.html">Redirects</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-routes-more-ssi.html">Server side includes</a>
  
  
</li>



    
  </ul>
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-conf-files_services.html">Services</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-conf-files_services-mysql.html">Set up MySQL service</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-conf-files_services-redis.html">Set up Redis service</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-conf-files_services-solr.html">Set up Solr service</a>
  
  
</li>



    
      





    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-conf-files_services-rabbit.html">Set up RabbitMQ service</a>
  
  
</li>



    
  </ul>
  
</li>



    
  </ul>
  
</li>



		    
		    	







		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/projects.html">Manage your project</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-webint-basic.html">Configure your project</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-start.html">Project structure</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/user-admin.html">Create and manage users</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-webint-branch.html">Manage branches with the Interface</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/env/environments-start.html">Manage branches with the CLI</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-webint-snap.html">Snapshots and backup management</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/live/stage-prod-live.html">Deploy your store</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/reference/discover-deploy.html">Deployment process</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/deploy/continuous-deployment.html">Continuous deployment</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/live/live-prot.html">Protective block</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/live/live-sanity-check.html">Build and deploy on local</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/live/stage-prod-migrate-prereq.html">Prepare to deploy to Staging and Production</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/live/stage-prod-migrate.html">Deploy code and migrate static files and data</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/live/stage-prod-test.html">Test deployment</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/live/live.html">Go live and launch</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/live/go-live-checklist.html">Go live checklist</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/live/launch-steps.html">Launch steps</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/trouble/trouble.html">Troubleshooting</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/trouble/troubleshoot-deployment.html">Troubleshoot deployment</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/trouble/environments-logs.html">View logs for troubleshooting</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/trouble/trouble_ce-creds.html">Incorrect credentials</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/trouble/trouble_proj-startover.html">Resolve issues with a new project</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/trouble/trouble_comp-deploy-fail.html">Component deployment failure</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/trouble/redis-troubleshooting.html">Redis troubleshooting</a>
  
  
</li>



    
      





    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/trouble/trouble-crypt-key-variable.html">Resolve issues with encryption key</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/trouble/trouble-error-html-minification.html">Resolve issues with HTML minification</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/trouble/trouble-google-analytics-deploy.html">Resolve issues with Google Analytics during deployment</a>
  
  
</li>



    
      





    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/trouble/site-availability.html">Site availability</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/trouble/robots-sitemap.html">Add site map and search engine robots</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/trouble/theme-troubleshooting.html">Theme troubleshooting</a>
  
  
</li>



    
      





    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-upgrade-parent.html">Upgrades and patches</a>
  
  
  <ul>
    
      





    
      





    
      





    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-patch.html">Apply custom patches</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/cloud/project/project-upgrade.html">Upgrade Magento version</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <span>Upgrade from 2.0.4 (Cloud)</span>
  
  
</li>



    
  </ul>
  
</li>



		    
		    </ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">

	<div class="message-banner">
		This archived documentation is not supported. For the latest supported documentation, see <a href="https://devdocs.magento.com">https://devdocs.magento.com</a>.
	</div>

	

	

	<h1 class="page-heading">Set up multiple websites or stores</h1>
</section>

			<p>This topic discusses how to set up Magento Commerce to have multiple websites or stores. For example, you might have an English store, a French store, and a German store. For more information on websites, stores, and store views, see <a href="/devdocs/guides/v2.0/cloud/configure/configure-best-practices.html#sites">Understanding websites, stores, and store views</a>.</p>

<p>To set up multiple stores, you must:</p>

<ol>
  <li><a href="/devdocs/guides/v2.0/config-guide/multi-site/ms_over.html">Configure your local installation</a> and test it locally.</li>
  <li>Configure Magento Commerce Cloud routes and variables.</li>
  <li>Push the changes to an Integration environment and test it.</li>
</ol>

<h2 id="configure-your-local-installation">Configure your local installation</h2>

<p>To configure your local installation to use multiple stores, see <a href="/devdocs/guides/v2.0/config-guide/multi-site/ms_over.html">Multiple websites or stores</a>.</p>

<h2 id="configure-your-integration-environment">Configure your Integration environment</h2>

<p>After successfully creating and testing multiple stores locally, you must:</p>

<ol>
  <li><a href="#cloud-multi-stores-routes">Configure routes</a>, which specify how incoming URLs are handled by Magento Commerce.</li>
  <li><a href="#cloud-multi-stores-admin">Set up websites, stores, and store views</a> in your Magento Commerce server’s   <span term-uuid="29ddb393-ca22-4df9-a8d4-0024d75739b1" class="glossary-term" data-toggle="popover">Admin</span>
.</li>
  <li><a href="#cloud-multi-stores-magento-vars">Modify <code class="language-plaintext highlighter-rouge">magento-vars.php</code></a> to specify the values of the <code class="language-plaintext highlighter-rouge">MAGE_RUN_TYPE</code> and <code class="language-plaintext highlighter-rouge">MAGE_RUN_CODE</code> variables.</li>
  <li><a href="#cloud-multi-stores-deploy">Deploy</a> to your Integration branch and test.</li>
</ol>

<h3 id="cloud-multi-stores-routes">Configure routes</h3>

<p>Magento Enterprise Edition <em>routes</em> define how incoming URLs are processed. The way you configure routes depends on how you want your site to operate. We suggest configuring routes for integration as follows. You can edit the values later if your needs change.</p>

<p class="bs-callout bs-callout-info">To set up routes in a staging or production environment, you must create a <a href="/devdocs/guides/v2.0/cloud/trouble/trouble.html">Support ticket</a>.</p>

<p>To configure routes in an integration environment:</p>

<ol>
  <li>Log in to your local environment as, or switch to, the <a href="/devdocs/guides/v2.0/cloud/before/before-workspace-file-sys-owner.html">Magento file system owner</a>.</li>
  <li>Change to your Magento Commerce base directory.</li>
  <li>Open <code class="language-plaintext highlighter-rouge">.magento/routes.yaml</code> in a text editor.</li>
  <li>
    <p>Replace its contents with the following:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlighter"><code>"http://{default}/":
	type: upstream
	upstream: "mymagento:php"

"https://{default}/":
	type: upstream
	upstream: "mymagento:php"

"http://*.{default}/":
	type: upstream
	upstream: "mymagento:php"

"https://*.{default}/":
	type: upstream
	upstream: "mymagento:php"
</code></pre></div>    </div>
  </li>
  <li>Save your changes to <code class="language-plaintext highlighter-rouge">routes.yaml</code> and exit the text editor.</li>
</ol>

<h3 id="cloud-multi-stores-admin">Set up websites, stores, and store views</h3>

<p>Set up in your Magento Commerce Admin websites, stores, and store views identical to the ones you set up on your local system.</p>

<h4 id="get-your-access-information">Get your access information</h4>

<p>To get the access information you need to log in to the Magento Admin:</p>

<ol>
  <li>If you haven’t done so already, log in to your local environment as, or switch to, the <a href="/devdocs/guides/v2.0/cloud/before/before-workspace-file-sys-owner.html">Magento file system owner</a>.</li>
  <li>Change to your Magento Commerce base directory.</li>
  <li>
    <p>Log in to your account:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlighter"><code>magento-cloud login
</code></pre></div>    </div>
  </li>
  <li>
    <p>List the environments:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlighter"><code>magento-cloud environment:list
</code></pre></div>    </div>
  </li>
  <li>
    <p>Check out your environment:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlighter"><code>magento-cloud environment:checkout &lt;environment ID&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>View the environment’s access URLs:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlighter"><code>magento-cloud environment:url
</code></pre></div>    </div>
  </li>
  <li>
    <p>View Admin login information:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlighter"><code>magento-cloud variable:list
</code></pre></div>    </div>

    <p>Admin access information displays similar to the following:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlighter"><code>+----------------+---------------+-----------+------+
| ID             | Value         | Inherited | JSON |
+----------------+---------------+-----------+------+
| ADMIN_PASSWORD | admin_A456    | Yes       | No   |
| ADMIN_URL      | magento_A8v10 | Yes       | No   |
| ADMIN_USERNAME | meister_x2U8  | Yes       | No   |
+----------------+---------------+-----------+------+
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="configure-websites-stores-and-store-views">Configure websites, stores, and store views</h4>

<p>Make sure you name your websites, stores, and store views in your Cloud Admin the same as you did when you set up your local installation.</p>

<p>See <a href="/devdocs/guides/v2.0/config-guide/multi-site/ms_websites.html">Set up multiple websites, stores, and store views in the Admin</a>.</p>

<h3 id="cloud-multi-stores-magento-vars">Modify <code class="language-plaintext highlighter-rouge">magento-vars.php</code></h3>

<p>Instead of configuring an   <span term-uuid="b14ef3d8-51fd-48fe-94df-ed069afb2cdc" class="glossary-term" data-toggle="popover">nginx</span>
 virtual host, pass the <code class="language-plaintext highlighter-rouge">MAGE_RUN_CODE</code> and <code class="language-plaintext highlighter-rouge">MAGE_RUN_TYPE</code> variables using <code class="language-plaintext highlighter-rouge">magento-vars.php</code> which is located in your Magento root directory.</p>

<ol>
  <li>Open <code class="language-plaintext highlighter-rouge">magento-vars.php</code> in a text editor.</li>
  <li>Uncomment everything after the first two lines.</li>
  <li>
    <p>Move the entire block starting with <code class="language-plaintext highlighter-rouge">if (isHttpHost("example.com")</code> after <code class="language-plaintext highlighter-rouge">function isHttpHost($host)</code>.</p>

    <p>Following is what the file should look like so far:</p>

    <pre class="no-copy">&lt;?php
    // enable, adjust and copy this code for each store you run
    // Store #0, default one
    function isHttpHost($host)
    {
       if (!isset($_SERVER['HTTP_HOST'])) {
           return false;
    }
           return strpos(str_replace('---', '.', $_SERVER['HTTP_HOST']), $host) === 0;
    }
    if (isHttpHost("example.com")) {
        $_SERVER["MAGE_RUN_CODE"] = "default";
        $_SERVER["MAGE_RUN_TYPE"] = "store";
    }</pre>
  </li>
  <li>
    <p>Change the following line:</p>

    <p>From:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlighter"><code>return strpos(str_replace('---', '.', $_SERVER['HTTP_HOST']), $host) === 0;
</code></pre></div>    </div>

    <p>To:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlighter"><code>return $_SERVER['HTTP_HOST'] ===  $host;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Replace the following values in the <code class="language-plaintext highlighter-rouge">if (isHttpHost("example.com"))</code> block:</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">"example.com"</code> with the base URL of your website, replacing the first period with three dashes.</li>
      <li><code class="language-plaintext highlighter-rouge">"default"</code> with the unique code for your website or store view.</li>
      <li><code class="language-plaintext highlighter-rouge">"store"</code> with either <code class="language-plaintext highlighter-rouge">website</code> (to load the website in the storefront) or <code class="language-plaintext highlighter-rouge">store</code> (to load a storeview in the storefront).</li>
    </ul>

    <p>An example follows:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlighter"><code>&lt;?php
// enable, adjust and copy this code for each store you run
// Store #0, default one
function isHttpHost($host)
{
	if (!isset($_SERVER['HTTP_HOST'])) {
		return false;
	}
	 return $_SERVER['HTTP_HOST'] ===  $host;
}
if (isHttpHost("french---branch-sbg7pPa-f3dueAiM03tpy.us.magentosite.cloud")) {
	$_SERVER["MAGE_RUN_CODE"] = "french";
	$_SERVER["MAGE_RUN_TYPE"] = "website";
}
</code></pre></div>    </div>
  </li>
  <li>Save your changes to <code class="language-plaintext highlighter-rouge">magento-vars.php</code> and exit the text editor.</li>
</ol>

<h3 id="cloud-multi-stores-deploy">Deploy and test on the Integration server</h3>

<p>The final step is to push your changes to your Magento Entperise Cloud Edition server and test your site there.
To deploy and test:</p>

<ol>
  <li>
    <p>Enter the following commands in the order shown:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlighter"><code>git add -A &amp;&amp; git commit -m "Implement multiple sites"
git push origin &lt;branch name&gt;
</code></pre></div>    </div>
  </li>
  <li>Wait for deployment to complete.</li>
  <li>
    <p>When deployment is done, in a web browser, go to your site’s base   <span term-uuid="a05c59d3-77b9-47d0-92a1-2cbffe3f8622" class="glossary-term" data-toggle="popover">URL</span>
.</p>

    <p>The URL must be in the format: <code class="language-plaintext highlighter-rouge">http://&lt;magento run_code&gt;---&lt;rest of URL&gt;</code></p>

    <p>For example, <code class="language-plaintext highlighter-rouge">http://french---master-benrmky-dyrozemqbw72k.us.magentosite.cloud/</code></p>
  </li>
  <li>Make sure you test your site thoroughly.</li>
</ol>

<p>When complete, merge the code to the <code class="language-plaintext highlighter-rouge">master</code> Git branch for further deployment.</p>

<h3 id="deploy-staging-prod">Deploy to Staging and Production</h3>

<p>Follow the deployment process for <a href="/devdocs/guides/v2.0/cloud/live/stage-prod-migrate.html">deploying to Staging and Production</a>. For Starter and Pro environments, you use the Project Web Interface to push code across environments. For Pro accounts created before October 23, 2017 and not updated, you can use <a href="/devdocs/guides/v2.0/cloud/live/stage-prod-migrate.html#classic">SSH and CLI commands</a>.</p>

<p>We recommend fully testing in Staging prior to pushing to Production. If you need to make changes, you should complete those in Integration and begin the process to deploy across environments again.</p>

			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  


  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      

<ul class="nav footer-links">

  





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md">Become a Contributor</a>
  
  
</li>




  





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="https://magento.github.io/glossary/index.html?audience=developer">Glossary</a>
  
  
</li>




  





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="https://magento.com/legal/terms/privacy/">Privacy Policy</a>
  
  
</li>




  





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="https://magento.com/legal/terms/">Terms of Service</a>
  
  
</li>




  





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="https://magento.com/legal/licensing/">License/Trademark FAQ</a>
  
  
</li>




  





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/guides/v2.0/release-notes/bk-release-notes.html">Release Notes</a>
  
  
</li>




  





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/devdocs/magento-third-party.html">Third-Party Licenses</a>
  
  
</li>




</ul>

    </div>

		<div class="copyright-date">&copy; 2022 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/devdocs/assets/js/app.min.js"></script>






</body>
</html>

